(executable
 (public_name readpsf)
 (modules readpsf)
 (libraries cmdliner bos fmt psf2stitchfont)
)

(executable
 (public_name psf2sqlite)
 (modules psf2sqlite)
 (libraries bos caqti caqti-driver-sqlite3 caqti-lwt cmdliner lwt psf2stitchfont sqlite stitchy)
)

(alias
 (name runtest)
 (deps (file fonts/Bm437_ATI_8x8_6.fnt.psf))
 (action
  (progn
   (run readpsf fonts/Bm437_ATI_8x8_6.fnt.psf)
)))

(alias
 (name sqltest)
 (deps (source_tree fonts))
 (action
  (progn
   (run psf2sqlite --name ibm_vga --db tmpfonts.sqlite3 fonts/Bm437_IBM_VGA9-2x_12.fnt.psf)
  )))
